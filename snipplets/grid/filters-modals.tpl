{% set search_page_filters = template == 'search' and search_filter %}
{% set category_page = template == 'category' %}
{% set show_filters = products or has_filters_available %}
{% if show_filters and (category_page or search_page_filters) %}
	<section class="js-category-controls category-controls visible-when-content-ready {% if not settings.filters_desktop_modal %}d-md-none{% endif %}">
		<div class="container category-controls-container">
			<div class="category-controls-row row">
				{% if products %}
					<div class="col col-md-auto category-control-item">
						<a href="#" class="js-modal-open d-block font-small font-md-body px-md-0 py-md-2" data-toggle="#sort-by">
							<div class="d-flex justify-content-center align-items-center">
								<svg class="icon-inline icon-lg mr-2 svg-icon-text"><svg width="14" height="12" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M11.1533 0C11.564 0 11.8969 0.319263 11.8969 0.713086V9.56533L12.7306 8.76575C13.021 8.48729 13.4918 8.48729 13.7822 8.76575C14.0726 9.04421 14.0726 9.49573 13.7822 9.77419L11.6791 11.7912C11.3887 12.0696 10.9179 12.0696 10.6276 11.7912L8.52449 9.77419C8.23406 9.49573 8.23406 9.04421 8.52449 8.76575C8.81485 8.48729 9.28567 8.48729 9.57603 8.76575L10.4098 9.56533V0.713086C10.4098 0.319263 10.7427 0 11.1533 0ZM5.94845 9.9832C6.35911 9.9832 6.692 10.3024 6.692 10.6963C6.692 11.062 6.40497 11.3634 6.03516 11.4046L5.94845 11.4094H0.743556C0.332905 11.4094 0 11.0901 0 10.6963C0 10.3306 0.287045 10.0292 0.656842 9.98799L0.743556 9.9832H5.94845ZM7.43556 4.9916C7.84622 4.9916 8.17911 5.31085 8.17911 5.70468C8.17911 6.07039 7.89208 6.37178 7.52227 6.41297L7.43556 6.41777H0.743556C0.332905 6.41777 0 6.09852 0 5.70468C0 5.33898 0.287045 5.03759 0.656842 4.9964L0.743556 4.9916H7.43556ZM7.43556 0C7.84622 0 8.17911 0.319263 8.17911 0.713086C8.17911 1.10691 7.84622 1.42617 7.43556 1.42617H0.743556C0.332905 1.42617 0 1.10691 0 0.713086C0 0.319263 0.332905 0 0.743556 0H7.43556Z" fill="#E85D46"/>
								</svg>
								</svg>
								<p class="filter-text">{{ 'Ordenar' | t }}</p>
							</div>
						</a>
						{% embed "snipplets/modal.tpl" with{modal_id: 'sort-by', modal_class: 'bottom modal-centered modal-bottom-sheet modal-right-md', modal_position: 'bottom', modal_position_desktop: right, modal_width: 'docked-md', modal_transition: 'slide', modal_header_title: true} %}
							{% block modal_head %}
								{{'Ordenar por' | translate }}
							{% endblock %}
							{% block modal_body %}
								{% include 'snipplets/grid/sort-by.tpl' with { list: "true"} %}
								<div class="js-sorting-overlay filters-overlay" style="display: none;">
									<div class="filters-updating-message">
										<span class="h5 mr-2">{{ 'Ordenando productos' | translate }}</span>
										<span>
											<svg class="icon-inline h5 icon-spin svg-icon-text"><svg width="11" height="12" viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M3.375 1.3346C3.19598 1.3346 3.02429 1.40482 2.8977 1.52981C2.77112 1.6548 2.7 1.82433 2.7 2.00109C2.7 2.17785 2.77112 2.34737 2.8977 2.47236C3.02429 2.59736 3.19598 2.66757 3.375 2.66757C3.55402 2.66757 3.72571 2.59736 3.8523 2.47236C3.97888 2.34737 4.05 2.17785 4.05 2.00109C4.05 1.82433 3.97888 1.6548 3.8523 1.52981C3.72571 1.40482 3.55402 1.3346 3.375 1.3346ZM1.46475 1.3346C1.60421 0.944355 1.86282 0.606424 2.20495 0.367393C2.54709 0.128362 2.95588 0 3.375 0C3.79412 0 4.20291 0.128362 4.54504 0.367393C4.88718 0.606424 5.14579 0.944355 5.28525 1.3346H10.125C10.304 1.3346 10.4757 1.40482 10.6023 1.52981C10.7289 1.6548 10.8 1.82433 10.8 2.00109C10.8 2.17785 10.7289 2.34737 10.6023 2.47236C10.4757 2.59736 10.304 2.66757 10.125 2.66757H5.28525C5.14579 3.05782 4.88718 3.39575 4.54504 3.63478C4.20291 3.87382 3.79412 4.00218 3.375 4.00218C2.95588 4.00218 2.54709 3.87382 2.20495 3.63478C1.86282 3.39575 1.60421 3.05782 1.46475 2.66757H0.675C0.495979 2.66757 0.32429 2.59736 0.197703 2.47236C0.071116 2.34737 0 2.17785 0 2.00109C0 1.82433 0.071116 1.6548 0.197703 1.52981C0.32429 1.40482 0.495979 1.3346 0.675 1.3346H1.46475ZM7.425 5.33352C7.24598 5.33352 7.07429 5.40373 6.9477 5.52872C6.82112 5.65371 6.75 5.82324 6.75 6C6.75 6.17676 6.82112 6.34629 6.9477 6.47128C7.07429 6.59627 7.24598 6.66649 7.425 6.66649C7.60402 6.66649 7.77571 6.59627 7.9023 6.47128C8.02888 6.34629 8.1 6.17676 8.1 6C8.1 5.82324 8.02888 5.65371 7.9023 5.52872C7.77571 5.40373 7.60402 5.33352 7.425 5.33352ZM5.51475 5.33352C5.65421 4.94327 5.91282 4.60534 6.25495 4.3663C6.59708 4.12727 7.00588 3.99891 7.425 3.99891C7.84412 3.99891 8.25291 4.12727 8.59505 4.3663C8.93718 4.60534 9.19579 4.94327 9.33525 5.33352H10.125C10.304 5.33352 10.4757 5.40373 10.6023 5.52872C10.7289 5.65371 10.8 5.82324 10.8 6C10.8 6.17676 10.7289 6.34629 10.6023 6.47128C10.4757 6.59627 10.304 6.66649 10.125 6.66649H9.33525C9.19579 7.05673 8.93718 7.39466 8.59505 7.6337C8.25291 7.87273 7.84412 8.00109 7.425 8.00109C7.00588 8.00109 6.59708 7.87273 6.25495 7.6337C5.91282 7.39466 5.65421 7.05673 5.51475 6.66649H0.675C0.495979 6.66649 0.32429 6.59627 0.197703 6.47128C0.071116 6.34629 0 6.17676 0 6C0 5.82324 0.071116 5.65371 0.197703 5.52872C0.32429 5.40373 0.495979 5.33352 0.675 5.33352H5.51475ZM3.375 9.33243C3.19598 9.33243 3.02429 9.40264 2.8977 9.52763C2.77112 9.65263 2.7 9.82215 2.7 9.99891C2.7 10.1757 2.77112 10.3452 2.8977 10.4702C3.02429 10.5952 3.19598 10.6654 3.375 10.6654C3.55402 10.6654 3.72571 10.5952 3.8523 10.4702C3.97888 10.3452 4.05 10.1757 4.05 9.99891C4.05 9.82215 3.97888 9.65263 3.8523 9.52763C3.72571 9.40264 3.55402 9.33243 3.375 9.33243ZM1.46475 9.33243C1.60421 8.94218 1.86282 8.60425 2.20495 8.36522C2.54709 8.12618 2.95588 7.99782 3.375 7.99782C3.79412 7.99782 4.20291 8.12618 4.54504 8.36522C4.88718 8.60425 5.14579 8.94218 5.28525 9.33243H10.125C10.304 9.33243 10.4757 9.40264 10.6023 9.52763C10.7289 9.65263 10.8 9.82215 10.8 9.99891C10.8 10.1757 10.7289 10.3452 10.6023 10.4702C10.4757 10.5952 10.304 10.6654 10.125 10.6654H5.28525C5.14579 11.0556 4.88718 11.3936 4.54504 11.6326C4.20291 11.8716 3.79412 12 3.375 12C2.95588 12 2.54709 11.8716 2.20495 11.6326C1.86282 11.3936 1.60421 11.0556 1.46475 10.6654H0.675C0.495979 10.6654 0.32429 10.5952 0.197703 10.4702C0.071116 10.3452 0 10.1757 0 9.99891C0 9.82215 0.071116 9.65263 0.197703 9.52763C0.32429 9.40264 0.495979 9.33243 0.675 9.33243H1.46475Z" fill="#E85D46"/>
											</svg>
											</svg>
										</span>
									</div>
								</div>
							{% endblock %}
						{% endembed %}
					</div>
				{% endif %}
				{% if has_filters_available %}
					<div class="visible-when-content-ready col col-md-auto pl-md-2 category-control-item">
						<a href="#" class="js-modal-open d-block font-small font-md-body px-md-0 py-md-2" data-toggle="#nav-filters" data-component="filter-button">
							<div class="d-flex justify-content-center align-items-center">
								<svg class="icon-inline icon-lg mr-2 svg-icon-text"><svg width="11" height="12" viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M3.375 1.3346C3.19598 1.3346 3.02429 1.40482 2.8977 1.52981C2.77112 1.6548 2.7 1.82433 2.7 2.00109C2.7 2.17785 2.77112 2.34737 2.8977 2.47236C3.02429 2.59736 3.19598 2.66757 3.375 2.66757C3.55402 2.66757 3.72571 2.59736 3.8523 2.47236C3.97888 2.34737 4.05 2.17785 4.05 2.00109C4.05 1.82433 3.97888 1.6548 3.8523 1.52981C3.72571 1.40482 3.55402 1.3346 3.375 1.3346ZM1.46475 1.3346C1.60421 0.944355 1.86282 0.606424 2.20495 0.367393C2.54709 0.128362 2.95588 0 3.375 0C3.79412 0 4.20291 0.128362 4.54504 0.367393C4.88718 0.606424 5.14579 0.944355 5.28525 1.3346H10.125C10.304 1.3346 10.4757 1.40482 10.6023 1.52981C10.7289 1.6548 10.8 1.82433 10.8 2.00109C10.8 2.17785 10.7289 2.34737 10.6023 2.47236C10.4757 2.59736 10.304 2.66757 10.125 2.66757H5.28525C5.14579 3.05782 4.88718 3.39575 4.54504 3.63478C4.20291 3.87382 3.79412 4.00218 3.375 4.00218C2.95588 4.00218 2.54709 3.87382 2.20495 3.63478C1.86282 3.39575 1.60421 3.05782 1.46475 2.66757H0.675C0.495979 2.66757 0.32429 2.59736 0.197703 2.47236C0.071116 2.34737 0 2.17785 0 2.00109C0 1.82433 0.071116 1.6548 0.197703 1.52981C0.32429 1.40482 0.495979 1.3346 0.675 1.3346H1.46475ZM7.425 5.33352C7.24598 5.33352 7.07429 5.40373 6.9477 5.52872C6.82112 5.65371 6.75 5.82324 6.75 6C6.75 6.17676 6.82112 6.34629 6.9477 6.47128C7.07429 6.59627 7.24598 6.66649 7.425 6.66649C7.60402 6.66649 7.77571 6.59627 7.9023 6.47128C8.02888 6.34629 8.1 6.17676 8.1 6C8.1 5.82324 8.02888 5.65371 7.9023 5.52872C7.77571 5.40373 7.60402 5.33352 7.425 5.33352ZM5.51475 5.33352C5.65421 4.94327 5.91282 4.60534 6.25495 4.3663C6.59708 4.12727 7.00588 3.99891 7.425 3.99891C7.84412 3.99891 8.25291 4.12727 8.59505 4.3663C8.93718 4.60534 9.19579 4.94327 9.33525 5.33352H10.125C10.304 5.33352 10.4757 5.40373 10.6023 5.52872C10.7289 5.65371 10.8 5.82324 10.8 6C10.8 6.17676 10.7289 6.34629 10.6023 6.47128C10.4757 6.59627 10.304 6.66649 10.125 6.66649H9.33525C9.19579 7.05673 8.93718 7.39466 8.59505 7.6337C8.25291 7.87273 7.84412 8.00109 7.425 8.00109C7.00588 8.00109 6.59708 7.87273 6.25495 7.6337C5.91282 7.39466 5.65421 7.05673 5.51475 6.66649H0.675C0.495979 6.66649 0.32429 6.59627 0.197703 6.47128C0.071116 6.34629 0 6.17676 0 6C0 5.82324 0.071116 5.65371 0.197703 5.52872C0.32429 5.40373 0.495979 5.33352 0.675 5.33352H5.51475ZM3.375 9.33243C3.19598 9.33243 3.02429 9.40264 2.8977 9.52763C2.77112 9.65263 2.7 9.82215 2.7 9.99891C2.7 10.1757 2.77112 10.3452 2.8977 10.4702C3.02429 10.5952 3.19598 10.6654 3.375 10.6654C3.55402 10.6654 3.72571 10.5952 3.8523 10.4702C3.97888 10.3452 4.05 10.1757 4.05 9.99891C4.05 9.82215 3.97888 9.65263 3.8523 9.52763C3.72571 9.40264 3.55402 9.33243 3.375 9.33243ZM1.46475 9.33243C1.60421 8.94218 1.86282 8.60425 2.20495 8.36522C2.54709 8.12618 2.95588 7.99782 3.375 7.99782C3.79412 7.99782 4.20291 8.12618 4.54504 8.36522C4.88718 8.60425 5.14579 8.94218 5.28525 9.33243H10.125C10.304 9.33243 10.4757 9.40264 10.6023 9.52763C10.7289 9.65263 10.8 9.82215 10.8 9.99891C10.8 10.1757 10.7289 10.3452 10.6023 10.4702C10.4757 10.5952 10.304 10.6654 10.125 10.6654H5.28525C5.14579 11.0556 4.88718 11.3936 4.54504 11.6326C4.20291 11.8716 3.79412 12 3.375 12C2.95588 12 2.54709 11.8716 2.20495 11.6326C1.86282 11.3936 1.60421 11.0556 1.46475 10.6654H0.675C0.495979 10.6654 0.32429 10.5952 0.197703 10.4702C0.071116 10.3452 0 10.1757 0 9.99891C0 9.82215 0.071116 9.65263 0.197703 9.52763C0.32429 9.40264 0.495979 9.33243 0.675 9.33243H1.46475Z" fill="#E85D46"/>
								</svg>
								</svg>
								<p class="filter-text">{{ 'Filtrar' | t }}</p>
								{% if has_applied_filters %}
									(<span class="js-filters-total-badge"></span>)
								{% endif %}
							</div>
						</a>
						{% embed "snipplets/modal.tpl" with{modal_id: 'nav-filters', modal_class: 'filters modal-docked-small', modal_body_class: 'h-100 p-0', modal_position: 'right', modal_position_desktop: right, modal_transition: 'slide', modal_header_title: true, modal_width: 'docked-md' } %}
							{% block modal_head %}
								{{'Filtrar ' | translate }}
							{% endblock %}
							{% block modal_body %}
								{% if has_filters_available %}
									{{ component(
										'filters/remove-filters',{
											container_classes: {
												filters_container: "px-3 my-2",
											},
											filter_classes: {
												applied_filters_label: "font-body font-weight-bold mb-2",
												remove: "chip",
												remove_icon: "js-remove-filter-chip chip-remove-icon",
												remove_all: "btn-link d-inline-block mt-1 mt-md-0 font-small",
											},
											remove_filter_svg_id: 'times',
										})
									}}

									{{ component(
										'filters/filters',{
											accordion: true,
											parent_category_link: false,
											applied_filters_badge: true,
											container_classes: {
												filters_container: "visible-when-content-ready",
											},
											accordion_classes: {
												title_container: "row no-gutters align-items-center",
												title_col: "col my-1 pr-3 d-flex align-items-center",
												title: "h6 font-body font-weight-bold mb-0",
												actions_col: "col-auto my-1",
												title_icon: "icon-inline svg-icon-text font-big mr-1"
											},
											filter_classes: {
												list: "list-unstyled my-3",
												list_item: "mb-2",
												list_link: "font-small",
												badge: "h6 font-small ml-1",
												show_more_link: "d-inline-block btn-link font-small mt-1",
												checkbox_last: "m-0",
												price_group: 'price-filter-container filter-accordion',
												price_title: 'h6 font-weight-bold mb-4 font-big',
												price_submit: 'btn btn-default d-inline-block',
												applying_feedback_message: 'h5 mr-2',
												applying_feedback_icon: 'icon-inline h5 icon-spin svg-icon-text'
											},
											accordion_show_svg_id: 'plus',
											accordion_hide_svg_id: 'minus',
											applying_feedback_svg_id: 'spinner-third'
										})
									}}

								{% endif %}
							{% endblock %}
						{% endembed %}
					</div>
				{% endif %}
			</div>
		</div>
	</section>
	<section class="js-category-controls-prev category-controls-sticky-detector"></section>
{% endif %}